---
import Layout from "../layouts/Layout.astro"
---
<div class="bg-gray-100">
    <div class="h-screen flex overflow-hidden bg-gray-200">
        <!-- Sidebar -->
        <div class="absolute bg-gray-800 text-white w-56 min-h-screen overflow-y-auto transition-transform transform -translate-x-full ease-in-out duration-300" id="sidebar">
            <div class="p-4">
                <h1 class="text-2xl font-semibold"></h1>
                <ul class="mt-4">
                    <li class="mb-2"><a href="/" class="block hover:text-indigo-400">cerrar sesion</a></li>
                    <li class="mb-2"><a href="ingresoProduc" class="block hover:text-indigo-400">ingresos productos</a></li>
                    <li class="mb-2"><a href="Horarios" class="block hover:text-indigo-400">Horarios</a></li>
                </ul>
            </div>
        </div>

        <!-- Content -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- Navbar -->
            <div class="bg-white shadow">
                <div class="container mx-auto">
                    <div class="flex justify-between items-center py-4 px-2">
                        <h1 class="text-xl font-semibold">Bienvenido</h1>
                        <button class="text-gray-500 hover:text-gray-600" id="open-sidebar">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            <!-- Content Body -->
            <div class="flex-1 overflow-auto p-4">
                <h1 class="text-2xl font-semibold">Bienvenido</h1>
                <p>Dominos Serena2</p>
        
                <!-- User Info -->
                <div class="mt-4 p-2 bg-blue-100 text-blue-800 rounded">
                    <p><strong>User:</strong> <span id="user-name"></span></p>
                    <p><strong>Role:</strong> <span id="user-role"></span></p>
                </div>
                <!-- Notification Section for Email Messages -->
                <div id="notification-email" class="mt-4 p-2 bg-green-200 text-green-800 rounded hidden"></div>

                <!-- Notification Section for Table Modification -->
                <div id="notification-table" class="mt-4 p-2 bg-yellow-200 text-yellow-800 rounded hidden"></div>
                <section id="our-team" class="bg-gray-100 py-32">
                    <div class="container mx-auto px-4">
                        <h2 class="text-3xl font-bold text-center mb-8 text-primary">Meet Our Team</h2>
                
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                            <!-- Team Member 1 -->
                            <div class="bg-white rounded-lg shadow-md p-6 my-6 text-center">
                                <img src="https://spacema-dev.com/elevate/assets/images/team/generic.jpg" alt="Team Member 1" class="w-full rounded-full mb-4">
                                <h3 class="text-xl font-semibold mb-2">Vistor</h3>
                                <p class="text-gray-700">Role: Gerente</p>
                            </div>
                
                            <!-- Team Member 2 -->
                            <div class="bg-white rounded-lg shadow-md p-6 my-6 text-center">
                                <img src="https://spacema-dev.com/elevate/assets/images/team/generic.jpg" alt="Team Member 2" class="w-full rounded-full mb-4">
                                <h3 class="text-xl font-semibold mb-2">Maira</h3>
                                <p class="text-gray-700">Role: Gerente</p>
                            </div>
                
                            <!-- Team Member 3 -->
                            <div class="bg-white rounded-lg shadow-md p-6 my-6 text-center">
                                <img src="https://spacema-dev.com/elevate/assets/images/team/generic.jpg" alt="Team Member 3" class="w-full rounded-full mb-4">
                                <h3 class="text-xl font-semibold mb-2">Benjamin</h3>
                                <p class="text-gray-700">Role: Teams</p>
                            </div>
                
                            <!-- Team Member 4 -->
                            <div class="bg-white rounded-lg shadow-md p-6 my-6 text-center">
                                <img src="https://spacema-dev.com/elevate/assets/images/team/generic.jpg" alt="Team Member 4" class="w-full rounded-full mb-4">
                                <h3 class="text-xl font-semibold mb-2">Felipe</h3>
                                <p class="text-gray-700">Role: Teams</p>
                            </div>
                
                            <!-- Team Member 5 -->
                            <div class="bg-white rounded-lg shadow-md p-6 my-6 text-center">
                                <img src="https://spacema-dev.com/elevate/assets/images/team/generic.jpg" alt="Team Member 5" class="w-full rounded-full mb-4">
                                <h3 class="text-xl font-semibold mb-2">Branko</h3>
                                <p class="text-gray-700">Role: Teams</p>
                            </div>
                
                            <!-- Team Member 6 -->
                            <div class="bg-white rounded-lg shadow-md p-6 my-6 text-center">
                                <img src="https://spacema-dev.com/elevate/assets/images/team/generic.jpg" alt="Team Member 6" class="w-full rounded-full mb-4">
                                <h3 class="text-xl font-semibold mb-2">Ruben</h3>
                                <p class="text-gray-700">Role: Teams</p>
                            </div>
                
                            <!-- Team Member 7 -->
                            <div class="bg-white rounded-lg shadow-md p-6 my-6 text-center">
                                <img src="https://spacema-dev.com/elevate/assets/images/team/generic.jpg" alt="Team Member 7" class="w-full rounded-full mb-4">
                                <h3 class="text-xl font-semibold mb-2">Khaty</h3>
                                <p class="text-gray-700">Role: Content Writer</p>
                            </div>
                        </div>
                    </div>
                </section>

                <script>
                    document.addEventListener('DOMContentLoaded', function () {
                // Obtener información del usuario de los parámetros de la URL
                const urlParams = new URLSearchParams(window.location.search);
                const nombreUsuario = urlParams.get('nombreUsuario');
                const rolUsuario = urlParams.get('rolUsuario');

                // Mostrar el nombre y rol del usuario
                document.getElementById('user-name').textContent = nombreUsuario || "Nombre de Usuario";
                document.getElementById('user-role').textContent = rolUsuario || "Rol de Usuario";

                // Funciones de notificación y otros scripts...
            

                        // Función para mostrar notificación de correo electrónico
                        function showEmailNotification(message) {
                            const notificationEmail = document.getElementById('notification-email');
                            notificationEmail.textContent = message;
                            notificationEmail.classList.remove('hidden');
                            setTimeout(() => {
                                notificationEmail.classList.add('hidden');
                            }, 3000); // Ocultar después de 3 segundos
                        }

                        // Función para mostrar notificación de modificación de tabla
                        function showTableNotification(message) {
                            const notificationTable = document.getElementById('notification-table');
                            notificationTable.textContent = message;
                            notificationTable.classList.remove('hidden');
                            setTimeout(() => {
                                notificationTable.classList.add('hidden');
                            }, 3000); // Ocultar después de 3 segundos
                        }

                        // Suponiendo que esta información se obtiene del login del gerente
                        showEmailNotification("You have new email messages!");
                        const tableModified = true; // Cambia esto según tu lógica
                        if (tableModified) {
                            showTableNotification("The product table has been updated!");
                        }
                    });
                </script>
            </div>
        </div>
    </div>

    <script>
        const sidebar = document.getElementById('sidebar');
        const openSidebarButton = document.getElementById('open-sidebar');

        // Toggle sidebar
        openSidebarButton.addEventListener('click', (e) => {
            e.stopPropagation();
            sidebar.classList.toggle('-translate-x-full');
        });

        // Close sidebar when clicking outside
        document.addEventListener('click', (e) => {
            if (!sidebar.contains(e.target) && !openSidebarButton.contains(e.target)) {
                sidebar.classList.add('-translate-x-full');
            }
        });
    </script>
</div>

